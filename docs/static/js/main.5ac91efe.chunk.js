(this["webpackJsonpreact-router-real-example"]=this["webpackJsonpreact-router-real-example"]||[]).push([[0],{11:function(e,t,n){e.exports={header:"MainNavigation_header__9-5uS",logo:"MainNavigation_logo__3lmdX",nav:"MainNavigation_nav__1YK1H",active:"MainNavigation_active__3WZgR"}},25:function(e,t,n){"use strict";var r=n(33),a=n.n(r),c=n(1);t.a=function(){return Object(c.jsx)("div",{className:a.a.spinner})}},31:function(e,t,n){e.exports={main:"Layout_main__2YrMH"}},33:function(e,t,n){e.exports={spinner:"LoadingSpinner_spinner__TFYC1"}},42:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var r=n(17),a=n.n(r),c=n(12),i=n(13),s=(n(42),n(0)),o=n.n(s),u=n(2),d=n(23),l=n(31),j=n.n(l),h=n(11),b=n.n(h),f=n(1),m=function(){return Object(f.jsxs)("main",{className:b.a.header,children:[Object(f.jsx)("h2",{className:b.a.logo,children:"Graet Quotes"}),Object(f.jsx)("nav",{className:b.a.nav,children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)(c.c,{to:"/quotes",activeClassName:b.a.active,children:"All Quotes"})}),Object(f.jsx)("li",{children:Object(f.jsx)(c.c,{to:"/new-quote",activeClassName:b.a.active,children:"Add a Quote"})})]})})]})},p=function(e){return Object(f.jsxs)(d.Fragment,{children:[Object(f.jsx)(m,{}),Object(f.jsx)("main",{className:j.a.main,children:e.children})]})},x=n(25),v=n(8),O=n.n(v),g=n(16),_=n(9),w=n(19),y=n.n(w),k="https://react-http-ar-default-rtdb.firebaseio.com/quotes.json",q=!0,N=o.a.lazy((function(){return n.e(4).then(n.bind(null,75))})),Q=o.a.lazy((function(){return n.e(3).then(n.bind(null,73))})),L=o.a.lazy((function(){return n.e(6).then(n.bind(null,72))})),E=o.a.lazy((function(){return n.e(5).then(n.bind(null,74))}));var M=function(){var e=Object(i.c)((function(e){return e.quote})),t=e.changed,n=e.items,r=Object(i.b)();return Object(s.useEffect)((function(){r(function(){var e=Object(g.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=Object(g.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(k);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("We have error getting the data! :(");case 5:return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t(_.b.startLoadingQuotes()),e.prev=2,e.next=5,n();case 5:r=e.sent,t(_.b.replaceQuotes({items:(null===r||void 0===r?void 0:r.items)||[]})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),y.a.fire("Error!","Error: "+e.t0.message,"error");case 12:t(_.b.endLoadingQuotes());case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}())}),[r]),Object(s.useEffect)((function(){var e;q?q=!1:t&&r((e=n,function(){var t=Object(g.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(){var t=Object(g.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(k,{method:"PUT",body:JSON.stringify({items:e})});case 2:if(t.sent.ok){t.next=5;break}throw new Error("Error getting the data");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n(_.b.startLoadingQuotes()),t.prev=2,t.next=5,r();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),y.a.fire("Ups..","Error: "+t.t0.message,"error");case 10:n(_.b.endLoadingQuotes());case 11:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}()))}),[r,t,n]),Object(f.jsx)("div",{children:Object(f.jsx)(p,{children:Object(f.jsx)(s.Suspense,{fallback:Object(f.jsx)("div",{className:"centered",children:Object(f.jsx)(x.a,{})}),children:Object(f.jsxs)(u.e,{children:[Object(f.jsx)(u.c,{path:"/",exact:!0,children:Object(f.jsx)(u.b,{to:"/quotes"})}),Object(f.jsx)(u.c,{path:"/quotes",exact:!0,children:Object(f.jsx)(E,{})}),Object(f.jsx)(u.c,{path:"/quotes/:quoteId",children:Object(f.jsx)(Q,{})}),Object(f.jsx)(u.c,{path:"/new-quote",children:Object(f.jsx)(N,{})}),Object(f.jsx)(u.c,{path:"*",children:Object(f.jsx)(L,{})})]})})})})},S=n(18),z=Object(S.a)({reducer:{quote:_.a}});a.a.render(Object(f.jsx)(c.a,{basename:"/greate-quotes-qpp",children:Object(f.jsx)(i.a,{store:z,children:Object(f.jsx)(M,{})})}),document.getElementById("root"))},9:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(29),a=n(18),c=Object(a.b)({name:"quotes",initialState:{items:[],changed:!1,isLoading:!1},reducers:{startLoadingQuotes:function(e){e.isLoading=!0},endLoadingQuotes:function(e){e.isLoading=!1},replaceQuotes:function(e,t){e.items=t.payload.items},addQuote:function(e,t){var n=t.payload,a=null===n||void 0===n?void 0:n.id;if(e.changed=!0,a){var c=e.items.find((function(e){return String(e.id)===a})),i={id:Math.round(1e3*Math.random()),text:n.comment};(null===c||void 0===c?void 0:c.comments)?c.comments=[].concat(Object(r.a)(c.comments),[i]):c.comments=[i]}else e.items.push({id:e.items.length>0?e.items[e.items.length-1].id+1:1,author:n.author,text:n.text,comments:[]})},deleteQuote:function(e,t){var n=e.items.filter((function(e){return String(e.id)!==t.payload}));e.changed=!0,e.items=n}}}),i=c.actions;t.a=c.reducer}},[[59,1,2]]]);
//# sourceMappingURL=main.5ac91efe.chunk.js.map